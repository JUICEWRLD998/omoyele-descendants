{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fadhm/OneDrive/Desktop/omoyele%20descendants/lib/firebase/config.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\"\r\nimport { getAuth } from \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n}\r\n\r\n// Initialize Firebase only if it hasn't been initialized\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0]\r\nconst auth = getAuth(app)\r\n\r\nexport { app, auth }\r\n"],"names":[],"mappings":";;;;;;AAIU;AAJV;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,yDAAyD;AACzD,MAAM,MAAM,IAAA,6OAAO,IAAG,MAAM,KAAK,IAAI,IAAA,mPAAa,EAAC,kBAAkB,IAAA,6OAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,4QAAO,EAAC"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fadhm/OneDrive/Desktop/omoyele%20descendants/lib/firebase/auth.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut as firebaseSignOut,\r\n  onAuthStateChanged,\r\n  User,\r\n  updateProfile,\r\n} from \"firebase/auth\"\r\nimport { auth } from \"./config\"\r\n\r\n// Sign up with email and password\r\nexport async function signUp(\r\n  email: string,\r\n  password: string,\r\n  firstName: string,\r\n  lastName: string\r\n) {\r\n  const userCredential = await createUserWithEmailAndPassword(auth, email, password)\r\n  \r\n  // Update the display name\r\n  await updateProfile(userCredential.user, {\r\n    displayName: `${firstName} ${lastName}`,\r\n  })\r\n\r\n  return userCredential.user\r\n}\r\n\r\n// Sign in with email and password\r\nexport async function signIn(email: string, password: string) {\r\n  const userCredential = await signInWithEmailAndPassword(auth, email, password)\r\n  return userCredential.user\r\n}\r\n\r\n// Sign out\r\nexport async function signOut() {\r\n  await firebaseSignOut(auth)\r\n}\r\n\r\n// Get current user\r\nexport function getCurrentUser(): User | null {\r\n  return auth.currentUser\r\n}\r\n\r\n// Subscribe to auth state changes\r\nexport function onAuthChange(callback: (user: User | null) => void) {\r\n  return onAuthStateChanged(auth, callback)\r\n}\r\n\r\n// Get ID token for API calls\r\nexport async function getIdToken(): Promise<string | null> {\r\n  const user = auth.currentUser\r\n  if (!user) return null\r\n  return user.getIdToken()\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA;AAAA;AAQA;AAVA;;;AAaO,eAAe,OACpB,KAAa,EACb,QAAgB,EAChB,SAAiB,EACjB,QAAgB;IAEhB,MAAM,iBAAiB,MAAM,IAAA,mSAA8B,EAAC,oIAAI,EAAE,OAAO;IAEzE,0BAA0B;IAC1B,MAAM,IAAA,kRAAa,EAAC,eAAe,IAAI,EAAE;QACvC,aAAa,GAAG,UAAU,CAAC,EAAE,UAAU;IACzC;IAEA,OAAO,eAAe,IAAI;AAC5B;AAGO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,MAAM,iBAAiB,MAAM,IAAA,+RAA0B,EAAC,oIAAI,EAAE,OAAO;IACrE,OAAO,eAAe,IAAI;AAC5B;AAGO,eAAe;IACpB,MAAM,IAAA,4QAAe,EAAC,oIAAI;AAC5B;AAGO,SAAS;IACd,OAAO,oIAAI,CAAC,WAAW;AACzB;AAGO,SAAS,aAAa,QAAqC;IAChE,OAAO,IAAA,uRAAkB,EAAC,oIAAI,EAAE;AAClC;AAGO,eAAe;IACpB,MAAM,OAAO,oIAAI,CAAC,WAAW;IAC7B,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KAAK,UAAU;AACxB"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fadhm/OneDrive/Desktop/omoyele%20descendants/contexts/auth-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\"\r\nimport { User } from \"firebase/auth\"\r\nimport { onAuthChange, signIn, signUp, signOut, getIdToken } from \"@/lib/firebase/auth\"\r\n\r\ninterface AuthContextType {\r\n  user: User | null\r\n  loading: boolean\r\n  signIn: (email: string, password: string) => Promise<User>\r\n  signUp: (email: string, password: string, firstName: string, lastName: string) => Promise<User>\r\n  signOut: () => Promise<void>\r\n  getIdToken: () => Promise<string | null>\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthChange((user) => {\r\n      setUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return () => unsubscribe()\r\n  }, [])\r\n\r\n  const handleSignUp = async (\r\n    email: string,\r\n    password: string,\r\n    firstName: string,\r\n    lastName: string\r\n  ) => {\r\n    const firebaseUser = await signUp(email, password, firstName, lastName)\r\n    \r\n    // Create user in database\r\n    const token = await firebaseUser.getIdToken()\r\n    await fetch(\"/api/auth/register\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        firstName,\r\n        lastName,\r\n        firebaseUid: firebaseUser.uid,\r\n      }),\r\n    })\r\n\r\n    return firebaseUser\r\n  }\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    loading,\r\n    signIn,\r\n    signUp: handleSignUp,\r\n    signOut,\r\n    getIdToken,\r\n  }\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAeA,MAAM,4BAAc,IAAA,6SAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wSAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IAEvC,IAAA,ySAAS;kCAAC;YACR,MAAM,cAAc,IAAA,0IAAY;sDAAC,CAAC;oBAChC,QAAQ;oBACR,WAAW;gBACb;;YAEA;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,MAAM,eAAe,OACnB,OACA,UACA,WACA;QAEA,MAAM,eAAe,MAAM,IAAA,oIAAM,EAAC,OAAO,UAAU,WAAW;QAE9D,0BAA0B;QAC1B,MAAM,QAAQ,MAAM,aAAa,UAAU;QAC3C,MAAM,MAAM,sBAAsB;YAChC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;gBACA;gBACA,aAAa,aAAa,GAAG;YAC/B;QACF;QAEA,OAAO;IACT;IAEA,MAAM,QAAyB;QAC7B;QACA;QACA,QAAA,oIAAM;QACN,QAAQ;QACR,SAAA,qIAAO;QACP,YAAA,wIAAU;IACZ;IAEA,qBAAO,4TAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAlDgB;KAAA;AAoDT,SAAS;;IACd,MAAM,UAAU,IAAA,0SAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}